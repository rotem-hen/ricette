<div *ngIf="recipe && !editModeService.isEditMode; else recipeEdit">
    <app-content-title [title]="recipe.title"></app-content-title>
    <div class="labels-container">
        <div *ngFor="let o of state.options" style="display: inline-block">
            <div *ngIf="o.selected" style="background: {{ o.category.color }}" class="category-label">
                {{ o.category.name }}
            </div>
        </div>
    </div>
    <img [src]="recipe.image || './assets/food.png'" class="page-image" (click)="onImageClick(recipeImageModal)" width="150" height="150" />
    <div class="ingredients" *ngIf="recipe.ingredients.length > 0">
        <li *ngFor="let i of recipe.ingredients.split('\n')">{{ i }}</li>
    </div>
    <div class="prep" *ngIf="recipe.prep.length > 0">
        <li *ngFor="let p of recipe.prep.split('\n')">{{ p }}</li>
    </div>
    <i (click)="onWhatsappClick()" class="share fab fa-whatsapp-square"></i>
</div>

<ng-template #recipeEdit>
    <app-recipe-edit [state]="state"></app-recipe-edit>
</ng-template>

<app-recipe-image-modal #recipeImageModal [existingImgDownloadUrl]="recipe && recipe.image"></app-recipe-image-modal>